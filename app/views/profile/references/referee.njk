{% extends "_form.njk" %}

{% set parent = "References" %}
{% set insetHtml %}
  <p class="govuk-body">Contact your referee in advance to check they are:</p>
  <ul class="govuk-list govuk-list--bullet">
    <li>happy to give you a reference</li>
    <li>available to do so within a reasonable timeframe</li>
    <li>comfortable submitting a reference online</li>
  </ul>
  <p class="govuk-body">Your referee will be given a short questionnaire about you and a free text box to describe you in their own words. They will not be given access to your completed application form.</p>
{% endset %}

{% block primary %}
  {{ govukInsetText({
    html: insetHtml
  }) }}

  {{ govukInput({
    label: {
      text: "Full name",
      classes: "govuk-label--s"
    },
    id: "referee-" + type + "-name",
    name: "referee-" + type + "-name",
    value: data["referee-" + type + "-name"]
  }) }}

  {{ govukInput({
    label: {
      text: "Refereeâ€™s relationship to you",
      classes: "govuk-label--s"
    },
    hint: {
      text: "For example, academic tutor, manager, other (please specify)."
    },
    id: "referee-" + type + "-relationship",
    name: "referee-" + type + "-relationship",
    value: data["referee-" + type + "-relationship"]
  }) }}

  {{ govukInput({
    label: {
      text: "Email address",
      classes: "govuk-label--s"
    },
    type: "email",
    id: "referee-" + type + "-email",
    name: "referee-" + type + "-email",
    value: data["referee-" + type + "-email"]
  }) }}

{% set explainCharacter %}
  {{ govukTextarea({
    label: {
      text: "If you are unable to provide an academic, professional or school senior leadership referee and are therefore requesting a character reference, you can explain why here (optional)."
    },
    id: "referee-" + type + "-character-explaination",
    name: "referee-" + type + "-character-explaination",
    value: data["referee-" + type + "-character-explaination"]
  }) }}
{% endset %}

  {{ govukRadios({
    fieldset: {
      legend: {
        text: "Type of referee",
        classes: "govuk-fieldset__legend--s"
      }
    },
    idPrefix: "referee-" + type + "-type",
    name: "referee-" + type + "-type",
    items: [{
      value: "academic",
      text: "Academic",
      checked: checked("referee-" + type + "-type", "academic")
    }, {
      value: "professional",
      text: "Professional",
      checked: checked("referee-" + type + "-type", "professional")
    }, {
      value: "school-based",
      text: "School senior leadership",
      checked: checked("referee-" + type + "-type", "school-based")
    }, {
      value: "character",
      text: "Character",
      checked: checked("referee-" + type + "-type", "character"),
      conditional: {
        html: explainCharacter
      }
    }]
  }) }}

  {{ govukButton({
    text: buttonText
  }) }}
{% endblock %}
