{% extends "_form.njk" %}

{% set title = "Create an account" %}
{% set formAction = "/application" %}
{% set hasSecondary = true %}

{% block primary %}
  <p class="govuk-body">Create an account to use this service. Youâ€™ll then be able to save and return to your applications as often as you need to.</p>

  {{ govukInput({
    label: {
      text: "First name(s)",
      classes: "govuk-label--s"
    },
    autocomplete: "given-name",
    id: "first-name",
    name: "first-name"
  }) }}

  {{ govukInput({
    label: {
      text: "Last name",
      classes: "govuk-label--s"
    },
    autocomplete: "family-name",
    id: "family-name",
    name: "family-name"
  }) }}

  {{ govukDateInput({
    fieldset: {
      legend: {
        text: "Date of birth",
        classes: "govuk-fieldset__legend--s"
      }
    },
    hint: {
      text: "For example, 31 03 1980"
    },
    id: "date-of-birth",
    namePrefix: "date-of-birth",
    items: [{
      name: "day",
      value: data["date-of-birth-day"],
      classes: "govuk-input--width-2",
      autocomplete: "bday-day"
    }, {
      name: "month",
      value: data["date-of-birth-month"],
      classes: "govuk-input--width-2",
      autocomplete: "bday-month"
    }, {
      name: "year",
      value: data["date-of-birth-year"],
      classes: "govuk-input--width-4",
      autocomplete: "bday-year"
    }]
  }) }}

  {{ govukInput({
    label: {
      text: "Email address",
      classes: "govuk-label--s"
    },
    autocomplete: "email",
    classes: "govuk-!-width-two-thirds",
    id: "email",
    name: "email",
    type: "email"
  }) }}

  {{ govukInput({
    label: {
      text: "Password",
      classes: "govuk-label--s"
    },
    classes: "govuk-!-width-two-thirds",
    id: "password",
    name: "password",
    type: "password"
  }) }}

  {{ govukInput({
    label: {
      text: "Confirm password",
      classes: "govuk-label--s"
    },
    classes: "govuk-!-width-two-thirds",
    id: "confirm-password",
    name: "confirm-password",
    type: "password"
  }) }}

  {{ govukButton({
    text: "Create an account"
  }) }}
{% endblock %}
{% block secondary %}
  {{ appRelatedItems ({
    title: "Forgot your passsword?",
    name: "forgot-password",
    items: [{
      href: "/account/reset-password",
      text: "Reset your password"
    }]
  }) }}
  {{ appRelatedItems ({
    title: "Already registered?",
    name: "sign-in",
    items: [{
      href: "/account/sign-in",
      text: "Sign in"
    }]
  }) }}
{% endblock %}
{% block pageScripts %}
  <script type="text/javascript" src="/public/javascripts/autocomplete.min.js"></script>
  <script type="text/javascript">
    accessibleAutocomplete.enhanceSelectElement({
      defaultValue: '',
      selectElement: document.querySelector('#nationality')
    })
  </script>
{% endblock %}
