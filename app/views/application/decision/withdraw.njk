{% extends "_form.njk" %}

{% set title = "Withdraw an application" %}

{% block pageNavigation %}
  {{ govukBackLink({
    href: "/dashboard/" + applicationId
  }) }}
{% endblock %}

{% block primary %}

  {% set legendText %}
    {% if choices | length > 1  %}
      Which application do you want to withdraw?
    {% else %}
      Are you sure you want to withdraw your application for this course?
    {% endif %}
  {% endset %}

  <p class="govuk-body">[Content here about what happens when you withdraw?]</p>

  {% set items = [] %}

  {% if choices | length == 1  %}
    {% set _ = items.push({value: "choice-0", text: "Accept offer and conditions"}) %}
    {% set _ = items.push({value: "choice-0", text: "Decline offer"}) %}

  {% else %}

    {% for choice in choices %}
      {% set _ = items.push({value: "choice-0", text: providers[choice.providerCode].courses[choice.courseCode].name + " at " + providers[choice.providerCode]["name"] + " (" + choice.courseCode + ")" })
      %}
    {% endfor %}
      {% set _ = items.push({divider: "or"})
      %}
      {% set _ = items.push({value: "choice-0", text: "Withdraw all applications"}) %}

  {% endif %}



  {{ govukRadios({
    fieldset: {
      classes: "govuk-!-margin-top-6",
      legend: {
        text: legendText,
        classes: "govuk-fieldset__legend--m"
      }
    },
    id: "decision",
    name: "decision",
    items: items
  }) }}


  {{ govukButton({
    text: "Continue"
  }) }}
{% endblock %}
