{% set qualifications = applicationValue(["other-qualifications"]) | toArray %}

{% if applicationValue(["completed", "other-qualifications"]) %}
  {{ appSuggestion({
    title: "Add all of your qualifications" if qualifications.length else "You have not added any other qualifications",
    content: {
      html: "Adding all of your qualifications makes your application stronger.\n\nThis is important if you are applying to teach a different subject to your degree." | markdown
    },
    actions: {
      items: [{
        text: "Add another qualification",
        href: applicationPath + "/other-qualifications/add?referrer=" + referrer
      }]
    }
  }) }}
{% elif showIncomplete %}
  {{ appSuggestion({
    id: "other-qualifications",
    title: "Academic and other qualifications not marked as complete",
    warning: true if errorList,
    actions: {
      items: [{
        text: "Enter academic and other relevant qualifications",
        href: applicationPath + "/other-qualifications/review?referrer=" + referrer
      }]
    }
  }) }}
{% else %}
  {{ govukButton({
    text: "Add another qualification",
    href: applicationPath + "/other-qualifications/add",
    classes: "govuk-button--secondary"
  }) }}
{% endif %}

{% for item in qualifications %}
  {% set summaryCardHtml %}{% include "_includes/item/other-qualification.njk" %}{% endset %}
  {{ appSummaryCard({
    classes: "govuk-!-margin-bottom-6",
    headingLevel: 3,
    titleText: item.type,
    actions: {
      items: [{
        href: applicationPath + "/other-qualifications/" + item.id + "/delete?referrer=" + referrer,
        text: "Delete qualification"
      }]
    } if canAmend,
    html: summaryCardHtml
  }) }}
{% endfor %}
