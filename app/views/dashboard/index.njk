{% extends "_content-wide.njk" %}

{% set title = "Your application for teacher training" %}

{% block primary %}
  {% set coursesHtml %}
    <h2 class="govuk-heading-m">Course selection</h2>
    <p class="govuk-body">Check your selection of provider and course.</p>
    {% include "_includes/review-courses.njk" %}
  {% endset %}

  {% set profileHtml %}
    {# Profile has been completed #}
    {% if data["candidate"]["nationality"] and
      data["contact-details"]["address"] and
      data["qualifications"] and
      data["subject-knowledge"] and
      data["professional-skills"] and
      data["work-history"] and
      data["school-experience"] and
      data["referees"] and
      data["vocation"]
    %}
      {% set buttonText = "Edit" %}
    {# Profile has been partially completed #}
    {% elif data["candidate"]["nationality"] or
      data["contact-details"]["address"] or
      data["qualifications"] or
      data["subject-knowledge"] or
      data["professional-skills"] or
      data["work-history"] or
      data["school-experience"] or
      data["referees"] or
      data["vocation"] == true
    %}
      {% set buttonText = "Continue" %}
    {# Profile has yet to be completed #}
    {% else %}
      {% set buttonText = "Start" %}
    {% endif %}
    <h2 class="govuk-heading-m">Personal teaching profile</h2>
    <p class="govuk-body">Enter your qualifications and work history and tell us about your subject knowledge and teaching vocation.</p>
    {{ govukButton({
      text: buttonText,
      href: "/profile",
      classes: "govuk-button--start"
    }) }}
  {% endset %}

  {{ govukTabs({
    items: [{
      label: "Personal teaching profile",
      id: "profile",
      panel: {
        html: profileHtml
      }
    }, {
      label: "Course selection",
      id: "courses",
      panel: {
        html: coursesHtml
      }
    }]
  }) }}
{% endblock %}
